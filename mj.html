<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Console MJ - The Hope Heritage</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main class="content-section">
        <h1>Tableau de Bord du MJ</h1>
        
        <div class="card" style="overflow-x: auto;">
            <table class="stats-table">
                <thead>
                    <tr>
                        <th>Joueur</th>
                        <th>FOR</th>
                        <th>END</th>
                        <th>AGI</th>
                        <th>DEX</th>
                        <th>PER</th>
                        <th>MEN</th>
                        <th>INT</th>
                        <th>SOC</th>
                    </tr>
                </thead>
                <tbody id="table-mj">
                    </tbody>
            </table>
        </div>
    </main>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
    
      // --- COLLE TON BLOC FirebaseConfig ICI (le même que d'habitude) ---
      const firebaseConfig = {
        apiKey: "AIzaSyAhl7MuvCy54F4Qt27mtlVAqmCu4Bg-KCE",
        authDomain: "the-hope-heritage.firebaseapp.com",
        projectId: "the-hope-heritage",
        storageBucket: "the-hope-heritage.firebasestorage.app",
        messagingSenderId: "472185106488",
        appId: "1:472185106488:web:496f37e901690987f536cd"
      };
    
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);
    
      // On écoute la collection "personnages"
      onSnapshot(collection(db, "personnages"), (snapshot) => {
          const tbody = document.getElementById("table-mj");
          tbody.innerHTML = ""; 
    
          snapshot.forEach((doc) => {
              const p = doc.data();
              
              // On crée une ligne pour chaque joueur avec TES caractéristiques exactes
              const row = `<tr>
                  <td style="color: #d4af37; font-weight: bold;">${doc.id}</td>
                  <td>${p.force || 0}</td>
                  <td>${p.endurance || 0}</td>
                  <td>${p.agilite || 0}</td>
                  <td>${p.dexterite || 0}</td>
                  <td>${p.perception || 0}</td>
                  <td>${p.mental || 0}</td>
                  <td>${p.intelligence || 0}</td>
                  <td>${p.sociabilite || 0}</td>
              </tr>`;
              tbody.innerHTML += row;
          });
      });
    </script>
</body>
</html>
